% header to a DisplayPostScript clock implemented as an erlang port

/l { moveto lineto stroke } bind def
/a { newpath arc stroke } bind def
/af { newpath arc fill } bind def
/s 5 string def

% min -
/thereafter {-75 110 moveto (Next ferry in ) show s cvs show ( minutes) show} def

% minutes_to_departure -
/nextferry {/Helvetica 15 selectfont -75 150 moveto (Kornhall Ferry Clock) show -75 130 moveto (Departure in ) show s cvs show ( minutes) show } def

% -
/del { gsave newpath clippath 1 setgray fill grestore } def

% m -
/minute { gsave 2 setlinewidth 1 0 0 setrgbcolor -6 mul rotate 0 10 0 85 l grestore } def

% h m - m
/newhour { gsave 2 setlinewidth 0 1 0 setrgbcolor dup 3 -1 roll -30 mul exch 0.5 mul sub rotate 0 10 0 60 l grestore } def

% -
/clockface { 0 setgray 1 setlinewidth /Helvetica 20.769 selectfont
0 0 100 0 360 a  
0 0 10 0 360 a  
-10.68457 70.5652 moveto (12) show
71.7533 -7.46754 moveto (3) show
-5.84229 -85.8874 moveto (6) show
-84.2626 -7.87076 moveto (9) show
-10.4528 99.4522 -9.40756 89.507 l
-20.7912 97.8148 -18.7121 88.0333 l
-30.9017 95.1057 -27.8115 85.5951 l
-40.6737 91.3545 -36.6063 82.2191 l
-58.7785 80.9017 -52.9007 72.8115 l
-66.9131 74.3145 -60.2218 66.883 l
-74.3145 66.9131 -66.883 60.2218 l
-80.9017 58.7785 -72.8115 52.9007 l
-91.3545 40.6737 -82.2191 36.6063 l
-95.1057 30.9017 -85.5951 27.8115 l
-97.8148 20.7912 -88.0333 18.7121 l
-99.4522 10.4528 -89.507 9.40756 l
-99.4522 -10.4528 -89.507 -9.40756 l
-97.8148 -20.7912 -88.0333 -18.7121 l
-95.1057 -30.9017 -85.5951 -27.8115 l
-91.3545 -40.6737 -82.2191 -36.6063 l
-80.9017 -58.7785 -72.8115 -52.9007 l
-74.3145 -66.9131 -66.883 -60.2218 l
-66.9131 -74.3145 -60.2218 -66.883 l
-58.7785 -80.9017 -52.9007 -72.8115 l
-40.6737 -91.3545 -36.6063 -82.2191 l
-30.9017 -95.1057 -27.8115 -85.5951 l
-20.7912 -97.8148 -18.7121 -88.0333 l
-10.4528 -99.4522 -9.40756 -89.507 l
10.4528 -99.4522 9.40756 -89.507 l
20.7912 -97.8148 18.7121 -88.0333 l
30.9017 -95.1057 27.8115 -85.5951 l
40.6737 -91.3545 36.6063 -82.2191 l
58.7785 -80.9017 52.9007 -72.8115 l
66.9131 -74.3145 60.2218 -66.883 l
74.3145 -66.9131 66.883 -60.2218 l
80.9017 -58.7785 72.8115 -52.9007 l
91.3545 -40.6737 82.2191 -36.6063 l
95.1057 -30.9017 85.5951 -27.8115 l
97.8148 -20.7912 88.0333 -18.7121 l
99.4522 -10.4528 89.507 -9.40756 l
99.4522 10.4528 89.507 9.40756 l
97.8148 20.7912 88.0333 18.7121 l
95.1057 30.9017 85.5951 27.8115 l
91.3545 40.6737 82.2191 36.6063 l
80.9017 58.7785 72.8115 52.9007 l
74.3145 66.9131 66.883 60.2218 l
66.9131 74.3145 60.2218 66.883 l
58.7785 80.9017 52.9007 72.8115 l
40.6737 91.3545 36.6063 82.2191 l
30.9017 95.1057 27.8115 85.5951 l
20.7912 97.8148 18.7121 88.0333 l
10.4528 99.4522 9.40756 89.507 l
3.06152e-015 95 3 0 360 af
-47.5 82.2724 3 0 360 af
-82.2724 47.5 3 0 360 af
-95 1.42109e-014 3 0 360 af
-82.2724 -47.5 3 0 360 af
-47.5 -82.2724 3 0 360 af
-5.68838e-014 -95 3 0 360 af
47.5 -82.2724 3 0 360 af
82.2724 -47.5 3 0 360 af
95 -1.42109e-014 3 0 360 af
82.2724 47.5 3 0 360 af
47.5 82.2724 3 0 360 af
} def

% scale points to mm and move origo to center of clockface
2.83465 dup scale 105 130 translate clockface 0 20 moveto (Wait...) show
